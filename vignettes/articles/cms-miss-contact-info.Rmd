---
title: "CMS Missing Digital Contact Information API"
output: html_document
---


```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse  = TRUE,
  echo      = TRUE, 
  message   = FALSE, 
  warning   = FALSE,
  error     = TRUE,
  comment   = "#>",
  dpi       = 300, 
  out.width = "100%",
  fig.path  = "man/figures/README-"
)
```

```{r}
library(provider)
```

> Information on Providers That are Missing Digital Contact Information in the NPPES System.

## Purpose

Digital contact information, also known as [Endpoints](https://nppes.cms.hhs.gov/webhelp/nppeshelp/HEALTH%20INFORMATION%20EXCHANGE.html), provide a secure way for health care entities to send authenticated, encrypted health information to trusted recipients over the internet. Health care organizations seeking to engage in electronic health information exchange need accurate information about the electronic addresses (for example, Direct address, FHIR server URL, query endpoint, or other digital contact information) of potential exchange partners to facilitate this information exchange.

<br>

## Examples

If a provider appears in the search results of the Missing Information API, then they have no Endpoints entered into the NPPES NPI Registry.

```{r}
missing_information(npi = 1144224569) |> 
  knitr::kable()
```



<br>

We can confirm this by searching for the provider in the NPPES, which should contain a `NULL` or `NA` `endpoints` list-column:

<br>

```{r}
nppes_npi(npi = 1144224569) |> 
  dplyr::select(npi = number, 
                name, 
                endpoints) |> 
  dplyr::mutate(endpoints = NA) |> # empty list
  knitr::kable()
```

<br>

A provider *with* endpoint information in the NPPES would not appear in the search results, like so:

```{r}
missing_information(npi = 1003000423) |> knitr::kable()
```

<br>

We can again check by searching for the provider's NPI in the NPPES:

```{r}
nppes_npi(1003000423) |> 
  dplyr::select(number, 
                name, 
                endpoints) |> 
  tidyr::unnest_wider(endpoints, 
                      names_sep = NULL, 
                      simplify = TRUE, 
                      strict = TRUE) |> 
  dplyr::select(npi = number, 
                name, 
                endpoint, 
                endpoint_description = endpointDescription, 
                endpoint_type = endpointTypeDescription) |> 
  knitr::kable()
```

<br>

### Data Dictionary

```{r echo=FALSE}
dd <- tibble::tibble(
  Variable = c("`npi`", "`provider_name`"),
  Term = c("NPI", "Provider Name"),
  Definition = c("The provider's 10-digit National Provider Identifier.", 
                 "Name of the provider. It consists of the legal last name 
                 followed by the first name, separated by a comma."))
dd |> 
  gt::gt() |> 
  gt::fmt_markdown(columns = Variable) |> 
  gtExtras::gt_theme_nytimes() |> 
  gt::opt_stylize(style = 4, color = "gray", add_row_striping = FALSE) |> 
  gt::opt_table_lines(extent = "default") |> 
  gt::opt_table_outline(style = "solid")
```

<br>

### Related Links

   - [CMS Public Reporting of Missing Digital Contact Information](https://data.cms.gov/provider-compliance/public-reporting-of-missing-digital-contact-information)
   - [Endpoints Information](https://nppes.cms.hhs.gov/webhelp/nppeshelp/HEALTH%20INFORMATION%20EXCHANGE.html)
   - [Methodology & Policy](https://data.cms.gov/sites/default/files/2021-12/8eb2b4bf-6e5f-4e05-bcdb-39c07ad8f77a/Missing_Digital_Contact_Info_Methods%20.pdf)

<br><br>
