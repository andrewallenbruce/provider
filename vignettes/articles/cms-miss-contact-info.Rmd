---
title: "CMS Missing Digital Contact Information API"
output: html_document
---

```{r include = FALSE}
knitr::opts_chunk$set(
  collapse  = TRUE,
  echo      = TRUE, 
  message   = FALSE, 
  warning   = FALSE,
  error     = TRUE,
  comment   = "#>",
  dpi       = 300, 
  out.width = "100%",
  fig.path  = "man/figures/README-"
)

options(knitr.table.format = "html")
library(htmltools)

row <- function(...) {
  div(
    class = "custom_note",
    ...
  )
}
```

```{css, echo=FALSE}
.custom_note {
  border-left: solid 5px hsl(0, 100%, 30%);
  background-color: hsl(0, 100%, 95%);
  padding: 5px;
  margin-bottom: 10px
}
```

<br>

```{r setup}
library(provider)
```

<br>

```{r echo=FALSE, warning=FALSE}
row("Information on Providers That are Missing Digital Contact Information in the NPPES System")
```

<br>

> Digital contact information, also known as [Endpoints](https://nppes.cms.hhs.gov/webhelp/nppeshelp/HEALTH%20INFORMATION%20EXCHANGE.html), 
> provides a secure way for health care entities to send authenticated, encrypted health information to trusted recipients over the internet. 
> Health care organizations seeking to engage in electronic health information exchange need accurate information about the electronic addresses 
> (for example, Direct address, FHIR server URL, query endpoint, or other digital contact information) of potential exchange partners to 
> facilitate this information exchange.

<br>

A provider that appears in the search results of the Missing Information API has no Endpoints entered into the NPPES NPI Registry.


```{r}
missing_information(npi = 1144224569) |> 
  gt::gt() |> 
  gt::cols_label(npi = "NPI", last_name = "Last Name", first_name = "First Name") |> 
  gt::tab_header(title = gt::md("`missing_information()`")) |>
  gtExtras::gt_theme_nytimes()
```

A provider that does not appear has entered Endpoint information into the NPPES NPI Registry.

```{r, message=TRUE}
missing_information(npi = 1003000423)
```


<br>

### Data Dictionary

```{r echo=FALSE}
dd <- tibble::tibble(
  Variable = c("`npi`", "`last_name`", "`first_name`"),
  Description = c("National Provider Identifier", "Last Name", "First Name"),
  Definition = c("The provider's 10-digit National Provider Identifier.", 
                 "Last name of the provider.", "First name of the provider."))
dd |> 
  gt::gt() |> 
  gt::fmt_markdown(columns = Variable) |> 
  #gtExtras::gt_theme_nytimes() |> 
  gtExtras::gt_merge_stack(col1 = Description, 
                           col2 = Definition,
                           small_cap = FALSE,
                           font_size = c("16px", "14px"),
                           font_weight = c("bold", "normal"),
                           palette = c("black", "darkgray")) |> 
  gt::opt_stylize(style = 6, color = "red", add_row_striping = FALSE) |> 
  gt::opt_table_lines(extent = "default") |>
  gt::opt_table_outline(style = "none")
```

<br>

### Related Links

   - [CMS Public Reporting of Missing Digital Contact Information](https://data.cms.gov/provider-compliance/public-reporting-of-missing-digital-contact-information)
   - [Endpoints Information](https://nppes.cms.hhs.gov/webhelp/nppeshelp/HEALTH%20INFORMATION%20EXCHANGE.html)
   - [Methodology & Policy](https://data.cms.gov/sites/default/files/2021-12/8eb2b4bf-6e5f-4e05-bcdb-39c07ad8f77a/Missing_Digital_Contact_Info_Methods%20.pdf)

<br><br>
